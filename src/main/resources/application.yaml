spring:
  application:
    name: cloud-provisioning-manager

  # Data Base Configuration
  datasource:
    url: jdbc:postgresql://localhost:5432/cpm_db
    username: cpm_user
    password: cpm_password
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true

  # LDAP Configuration
  ldap:
    urls: ldap://localhost:389
    base: dc=cpm,dc=org
    username: cn=admin,dc=cpm,dc=org
    password: admin

  # Security Configuration
  security:
    ldap:

      user-search-base: ou=users
      user-search-filter: (uid={0})
      group-search-base: ou=users
      group-role-attribute: description

# Swagger Configuration
springdoc:
  swagger-ui:
    path: /swagger-ui.html

server:
  port: 8080

# Distributed Tracing - Zipkin
management:
  tracing:
    enabled: true
    sampling:
      probability: 1.0
  zipkin:
    tracing:
      endpoint: http://localhost:9411/api/v2/spans
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics

# Debug logging para tracing (remover em produção)
logging:
  level:
    io.micrometer.tracing: DEBUG
    zipkin2.reporter: DEBUG
